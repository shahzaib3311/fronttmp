{"ast":null,"code":"import Layout from\"../Components/Layout\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import CartItems from\"../Components/CartItems\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CartPage=()=>{const[cart,setCart]=useState([]);const[designCart,setDesignCart]=useState([]);const[customCart,setCustomCart]=useState([]);const[message,setMessage]=useState(\"\");const[error,setError]=useState(null);const[loading,setLoading]=useState(true);const fetchCart=async()=>{try{const productCartResponse=await axios.get(\"https://api.dripsaint.com/api/cart\",{withCredentials:true});setCart(productCartResponse.data.cart);const designCartResponse=await axios.get(\"https://api.dripsaint.com/api/design_cart\",{withCredentials:true});setMessage(designCartResponse.data.message);setDesignCart(designCartResponse.data.cart);const customCartResponse=await axios.get(\"https://api.dripsaint.com/api/custom_cart\",{withCredentials:true});setCustomCart(customCartResponse.data.cart);}catch(error){if(error.response&&error.response.status===401){document.location.href=\"/login\";}else if(error.response){setError(error.response.data.message);}else if(error.request){setError(\"No response from the server.\");}else{setError(\"Error setting up the request.\");}}finally{setLoading(false);console.log({cart,designCart,customCart});}};useEffect(()=>{fetchCart();},[]);return/*#__PURE__*/_jsx(Layout,{background:\"bg-gradient-to-br from-slate-900 to-teal-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center h-full text-white mt-28\",children:loading?/*#__PURE__*/_jsx(\"span\",{className:\"loading loading-spinner loading-lg\"}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):/*#__PURE__*/_jsx(_Fragment,{children:cart.length===0&&customCart.length===0&&designCart.length===0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold\",children:\"Nothing here :/\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl\",children:\"Try adding something to the cart\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:(cart.length>0||designCart.length>0||customCart.length>0)&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CartItems,{cart:cart,designCart:designCart,customCart:customCart})})})})})});};export default CartPage;","map":{"version":3,"names":["Layout","React","useEffect","useState","axios","CartItems","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartPage","cart","setCart","designCart","setDesignCart","customCart","setCustomCart","message","setMessage","error","setError","loading","setLoading","fetchCart","productCartResponse","get","withCredentials","data","designCartResponse","customCartResponse","response","status","document","location","href","request","console","log","background","children","className","length"],"sources":["/tmp/build_e49e86bd/src/pages/CartPage.js"],"sourcesContent":["import Layout from \"../Components/Layout\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport CartItems from \"../Components/CartItems\";\r\n\r\nconst CartPage = () => {\r\n  const [cart, setCart] = useState([]);\r\n  const [designCart, setDesignCart] = useState([]);\r\n  const [customCart, setCustomCart] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchCart = async () => {\r\n    try {\r\n      const productCartResponse = await axios.get(`https://api.dripsaint.com/api/cart`, {\r\n        withCredentials: true,\r\n      });\r\n      setCart(productCartResponse.data.cart);\r\n\r\n      const designCartResponse = await axios.get(`https://api.dripsaint.com/api/design_cart`, {\r\n        withCredentials: true,\r\n      });\r\n      setMessage(designCartResponse.data.message);\r\n      setDesignCart(designCartResponse.data.cart);\r\n\r\n      const customCartResponse = await axios.get(`https://api.dripsaint.com/api/custom_cart`, {\r\n        withCredentials: true,\r\n      });\r\n      setCustomCart(customCartResponse.data.cart);\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 401) {\r\n        document.location.href = \"/login\";\r\n      } else if (error.response) {\r\n        setError(error.response.data.message);\r\n      } else if (error.request) {\r\n        setError(\"No response from the server.\");\r\n      } else {\r\n        setError(\"Error setting up the request.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n      console.log({ cart, designCart, customCart });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout background=\"bg-gradient-to-br from-slate-900 to-teal-900\">\r\n      <div className=\"flex flex-col items-center justify-center h-full text-white mt-28\">\r\n        {loading ? (\r\n          <span className=\"loading loading-spinner loading-lg\"></span>\r\n        ) : error ? (\r\n          <div>{error}</div>\r\n        ) : (\r\n          <>\r\n            {cart.length === 0 && customCart.length === 0 && designCart.length === 0 ? (\r\n              <div>\r\n                <h1 className=\"text-4xl font-extrabold\">Nothing here :/</h1>\r\n                <h1 className=\"text-2xl\">Try adding something to the cart</h1>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {(cart.length > 0 || designCart.length > 0 || customCart.length > 0) && (\r\n                  <div>\r\n                    <CartItems cart={cart} designCart={designCart} customCart={customCart} />\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}