{"ast":null,"code":"import React,{useState,useEffect,useContext}from\"react\";import Layout from\"../Components/Layout\";import axios from\"axios\";import{UserContext}from\"../auth/UserContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminUsers=()=>{const[users,setUsers]=useState([]);const[isLoading,setIsLoading]=useState(true);const{user,loading}=useContext(UserContext);if(!loading&&user==null){document.location.href=\"/login\";}if(!loading&&user!=null&&!user.is_superuser){document.location.href=\"/login\";}// Effect hook to fetch data when component mounts\nuseEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"https://api.dripsaint.com/api/users/\",{withCredentials:true});console.log(response.data.user);setUsers(response.data.user);setIsLoading(false);}catch(error){console.error(error.message);}};fetchData();// Call the async function\n},[]);return/*#__PURE__*/_jsxs(Layout,{background:\"bg-gradient-to-r from-stone-500 to-stone-700\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"mt-14 w-full p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table text-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-white text-2xl\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map((user,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(user.first_name,\" \").concat(user.last_name)}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.is_superuser?\"Admin\":\"Customer\"})]},index))})]})})}),/*#__PURE__*/_jsx(\"dialog\",{id:\"add_user_modal\",className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-box w-11/12 max-w-5xl\",children:[/*#__PURE__*/_jsx(\"form\",{method:\"dialog\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-circle btn-ghost absolute right-2 top-2\",children:\"\\u2715\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg mb-2\",children:\"User Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-col-1 sm:grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\",children:[\"ID\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"grow\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\",children:[\"Name\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\",children:[\"Email\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\",children:[\"Role\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"\"})]})]})]})})]});};export default AdminUsers;","map":{"version":3,"names":["React","useState","useEffect","useContext","Layout","axios","UserContext","jsx","_jsx","jsxs","_jsxs","AdminUsers","users","setUsers","isLoading","setIsLoading","user","loading","document","location","href","is_superuser","fetchData","response","get","withCredentials","console","log","data","error","message","background","children","className","map","index","concat","first_name","last_name","email","id","method","type"],"sources":["/tmp/build_e49e86bd/src/pages/AdminUsers.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport Layout from \"../Components/Layout\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../auth/UserContext\";\r\n\r\nconst AdminUsers = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const { user, loading } = useContext(UserContext);\r\n\r\n  if (!loading && user == null) {\r\n    document.location.href = \"/login\";\r\n  }\r\n\r\n  if (!loading && user != null && !user.is_superuser) {\r\n    document.location.href = \"/login\";\r\n  }\r\n\r\n  // Effect hook to fetch data when component mounts\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`https://api.dripsaint.com/api/users/`, {\r\n          withCredentials: true,\r\n        });\r\n        console.log(response.data.user);\r\n        setUsers(response.data.user);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error(error.message);\r\n      }\r\n    };\r\n\r\n    fetchData(); // Call the async function\r\n  }, []);\r\n\r\n  return (\r\n    <Layout background=\"bg-gradient-to-r from-stone-500 to-stone-700\">\r\n      <section className=\"mt-14 w-full p-8\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"table text-white\">\r\n            {/* head */}\r\n            <thead>\r\n              <tr className=\"text-white text-2xl\">\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Role</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map((user, index) => (\r\n                <tr key={index} className=\"hover\">\r\n                  <td>{`${user.first_name} ${user.last_name}`}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>{user.is_superuser ? \"Admin\" : \"Customer\"}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n\r\n      <dialog id=\"add_user_modal\" className=\"modal\">\r\n        <div className=\"modal-box w-11/12 max-w-5xl\">\r\n          <form method=\"dialog\">\r\n            <button className=\"btn btn-sm btn-circle btn-ghost absolute right-2 top-2\">\r\n              âœ•\r\n            </button>\r\n          </form>\r\n\r\n          <h3 className=\"font-bold text-lg mb-2\">User Details</h3>\r\n          <div className=\"grid grid-col-1 sm:grid-cols-2 gap-2\">\r\n            <label className=\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\">\r\n              ID\r\n              <input type=\"text\" className=\"grow\" />\r\n            </label>\r\n            <label className=\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\">\r\n              Name\r\n              <input type=\"text\" className=\"\" />\r\n            </label>\r\n            <label className=\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\">\r\n              Email\r\n              <input type=\"text\" className=\"\" />\r\n            </label>\r\n            <label className=\"w-2/3 sm:w-full sm:max-w-none input input-bordered flex items-center gap-2\">\r\n              Role\r\n              <input type=\"text\" className=\"\" />\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </dialog>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminUsers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}