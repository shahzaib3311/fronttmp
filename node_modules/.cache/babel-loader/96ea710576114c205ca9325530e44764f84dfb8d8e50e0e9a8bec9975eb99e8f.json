{"ast":null,"code":"import React,{useCallback,useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{REACT_APP_GOOGLE_CLIENT_ID,REACT_APP_GOGGLE_REDIRECT_URL_ENDPOINT}=process.env;const LoginWithGoogleButton=()=>{const[email,setEmail]=useState(localStorage.getItem('user'));useEffect(()=>{const storedUsername=localStorage.getItem(\"user_goggle\");if(storedUsername){setEmail(storedUsername);}},[]);const openGoogleLoginPage=useCallback(()=>{const googleAuthUrl=\"https://accounts.google.com/o/oauth2/v2/auth\";const scope=[\"https://www.googleapis.com/auth/userinfo.email\",\"https://www.googleapis.com/auth/userinfo.profile\"].join(\" \");const params=new URLSearchParams({response_type:\"code\",client_id:REACT_APP_GOOGLE_CLIENT_ID,redirect_uri:\"\".concat(REACT_APP_GOGGLE_REDIRECT_URL_ENDPOINT,\"/google\"),prompt:\"select_account\",access_type:\"offline\",scope});const url=\"\".concat(googleAuthUrl,\"?\").concat(params);window.location.href=url;},[]);const handleLogout=()=>{localStorage.clear();// Clear localStorage when the button is clicked\nsetEmail(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-screen\",children:[!email&&/*#__PURE__*/_jsx(\"button\",{className:\"bg-white text-gray-800 font-bold py-2 px-4 border rounded-full shadow focus:outline-none mb-3 mb-1\",onClick:openGoogleLoginPage,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 48 48\",width:\"36px\",height:\"36px\",className:\"w-6 h-6\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#FFC107\",d:\"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FF3D00\",d:\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#4CAF50\",d:\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#1976D2\",d:\"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z\"})]}),\"Sign in with Google\"]})}),email?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"text-primary-600\",children:[\"User is logged as: \",email]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"bg-red-400 hover:bg-red-200 text-white font-semibold py-2 px-4 rounded mt-2\",children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"small\",{className:\"text-primary-600\",children:\"Ops not Logged in yet\"})]});};export default LoginWithGoogleButton;","map":{"version":3,"names":["React","useCallback","useEffect","useState","jsx","_jsx","jsxs","_jsxs","REACT_APP_GOOGLE_CLIENT_ID","REACT_APP_GOGGLE_REDIRECT_URL_ENDPOINT","process","env","LoginWithGoogleButton","email","setEmail","localStorage","getItem","storedUsername","openGoogleLoginPage","googleAuthUrl","scope","join","params","URLSearchParams","response_type","client_id","redirect_uri","concat","prompt","access_type","url","window","location","href","handleLogout","clear","className","children","onClick","xmlns","viewBox","width","height","fill","d"],"sources":["/tmp/build_e49e86bd/src/auth/LoginWithGoogleButton.js"],"sourcesContent":["\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\n\r\nconst { REACT_APP_GOOGLE_CLIENT_ID, REACT_APP_GOGGLE_REDIRECT_URL_ENDPOINT } =\r\n  process.env;\r\n\r\nconst LoginWithGoogleButton = () => {\r\n  const [email, setEmail] = useState(localStorage.getItem('user'))\r\n\r\n  useEffect(() => {\r\n    const storedUsername = localStorage.getItem(\"user_goggle\");\r\n    if (storedUsername) {\r\n      setEmail(storedUsername);\r\n    }\r\n  }, []);\r\n  const openGoogleLoginPage = useCallback(() => {\r\n    const googleAuthUrl = \"https://accounts.google.com/o/oauth2/v2/auth\";\r\n    \r\n    const scope = [\r\n      \"https://www.googleapis.com/auth/userinfo.email\",\r\n      \"https://www.googleapis.com/auth/userinfo.profile\",\r\n    ].join(\" \");\r\n\r\n    const params = new URLSearchParams({\r\n      response_type: \"code\",\r\n      client_id: REACT_APP_GOOGLE_CLIENT_ID,\r\n      redirect_uri: `${REACT_APP_GOGGLE_REDIRECT_URL_ENDPOINT}/google`,\r\n      prompt: \"select_account\",\r\n      access_type: \"offline\",\r\n      scope,\r\n    });\r\n\r\n    const url = `${googleAuthUrl}?${params}`;\r\n\r\n    window.location.href = url;\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear(); // Clear localStorage when the button is clicked\r\n    setEmail(\"\")\r\n  };\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center h-screen\">\r\n       {!email &&  <button\r\n           \r\n           className=\"bg-white text-gray-800 font-bold py-2 px-4 border rounded-full shadow focus:outline-none mb-3 mb-1\"\r\n           onClick={openGoogleLoginPage}\r\n         >\r\n           <div className=\"flex items-center justify-center\">\r\n             <svg\r\n               xmlns=\"http://www.w3.org/2000/svg\"\r\n               viewBox=\"0 0 48 48\"\r\n               width=\"36px\"\r\n               height=\"36px\"\r\n               className=\"w-6 h-6\"\r\n             >\r\n               <path\r\n                 fill=\"#FFC107\"\r\n                 d=\"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z\"\r\n               />\r\n               <path\r\n                 fill=\"#FF3D00\"\r\n                 d=\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\"\r\n               />\r\n               <path\r\n                 fill=\"#4CAF50\"\r\n                 d=\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z\"\r\n               />\r\n               <path\r\n                 fill=\"#1976D2\"\r\n                 d=\"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z\"\r\n               />\r\n             </svg>\r\n             Sign in with Google\r\n           </div>\r\n         </button>\r\n     \r\n      }\r\n      {email ? (\r\n        <div className=\"text-center\">\r\n          <small className=\"text-primary-600\">User is logged as: {email}</small>\r\n          <br/>\r\n          <button onClick={handleLogout} className=\"bg-red-400 hover:bg-red-200 text-white font-semibold py-2 px-4 rounded mt-2\">\r\n      Logout\r\n    </button>\r\n        </div>\r\n      ) : (\r\n        <small className=\"text-primary-600\">Ops not Logged in yet</small>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginWithGoogleButton;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}